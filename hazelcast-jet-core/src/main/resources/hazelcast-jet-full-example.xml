<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2008-2019, Hazelcast, Inc. All Rights Reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<hazelcast-jet xsi:schemaLocation="http://www.hazelcast.com/schema/jet-config hazelcast-jet-config-0.8.xsd"
               xmlns="http://www.hazelcast.com/schema/jet-config"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <instance>
        <!-- number of threads in the cooperative thread pool -->
       <cooperative-thread-count>8</cooperative-thread-count>
        <!-- period between flow control packets in milliseconds -->
       <flow-control-period>100</flow-control-period>
        <!-- number of backup copies to configure for Hazelcast IMaps used internally in a Jet job -->
       <backup-count>1</backup-count>
        <!-- the delay after which auto-scaled jobs will restart if a new member is added to the
             cluster. The default is 10 seconds. Has no effect on jobs with auto scaling disabled -->
        <scale-up-delay-millis>10000</scale-up-delay-millis>
        <!-- Sets whether lossless job recovery is enabled for the node. With
             lossless recovery you can restart the whole cluster without losing the
             jobs and their state. The feature is implemented on top of the Hot
             Restart feature of Hazelcast IMDG which persists the data to disk. -->
        <lossless-recovery-enabled>false</lossless-recovery-enabled>
    </instance>

    <!-- custom properties which can be read in the user code -->
    <properties>
       <property name="custom.property">custom property</property>
    </properties>

    <edge-defaults>
        <!-- capacity of the concurrent SPSC queue between each two processors -->
       <queue-size>1024</queue-size>

        <!-- network packet size limit in bytes, only applies to distributed edges -->
       <packet-size-limit>16384</packet-size-limit>

        <!-- receive window size multiplier, only applies to distributed edges -->
       <receive-window-multiplier>3</receive-window-multiplier>
    </edge-defaults>

    <!-- whether metrics collection is enabled -->
    <metrics enabled="true">

        <!-- the number of seconds the metrics will be retained on the instance -->
        <retention-seconds>120</retention-seconds>

        <!-- the metrics collection interval in seconds -->
        <collection-interval-seconds>5</collection-interval-seconds>
        
        <!-- whether metrics should be collected for data structures. Metrics
            collection can have some overhead if there is a large number of data
            structures -->
        <metrics-for-data-structures>false</metrics-for-data-structures>
    </metrics>
</hazelcast-jet>
