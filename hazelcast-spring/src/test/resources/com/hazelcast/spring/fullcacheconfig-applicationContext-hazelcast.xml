<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:hz="http://www.hazelcast.com/schema/config"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.hazelcast.com/schema/config
		http://www.hazelcast.com/schema/config/hazelcast-spring.xsd">
		
	<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
		p:systemPropertiesModeName="SYSTEM_PROPERTIES_MODE_OVERRIDE">
		<property name="locations">
			<list>
				<value>classpath:/hazelcast-default.properties</value>
			</list>
		</property>
	</bean>

    <hz:hazelcast id="instance">
        <hz:config>
	        <hz:group  
	           name="${cluster.group.name}"
	           password="${cluster.group.password}"/>
	        <hz:properties>
	            <hz:property name="hazelcast.merge.first.run.delay.seconds">5</hz:property>
	            <hz:property name="hazelcast.merge.next.run.delay.seconds">5</hz:property>
	        </hz:properties>
	        <hz:network port="${cluster.port}" port-auto-increment="false">
	            <hz:join>
	                <hz:multicast enabled="false"
	                   multicast-group="224.2.2.3"
	                   multicast-port="54327"/>
	                <hz:tcp-ip enabled="true">
	                    <hz:members>${cluster.members}</hz:members>
	                </hz:tcp-ip>
	            </hz:join>
	            <hz:interfaces enabled="false">
	                <hz:interface>10.10.1.*</hz:interface>
	            </hz:interfaces>
	            <hz:symmetric-encryption enabled="true"
	               algorithm="PBEWithMD5AndDES"
	               salt="thesalt"
	               password="thepass"
	               iteration-count="19"/>
	            <hz:asymmetric-encryption enabled="false"
	               key-password="thekeypass"
	               key-alias="local"
	               store-type="JKS"
	               store-password="thestorepass"
	               store-path="keystore"/>
	        </hz:network>
	        <hz:executor-service name="testExec"
	           core-pool-size="2"
	           max-pool-size="32"
	           keep-alive-seconds="30"/>
	        <hz:executor-service name="testExec2"
	           core-pool-size="5"
	           max-pool-size="10"
	           keep-alive-seconds="20"/>
	        <hz:queue name="testQ"
	            max-size-per-jvm="1000"
                time-to-live-seconds="0"/>
	        <hz:queue name="q"
	            max-size-per-jvm="2500"
	            time-to-live-seconds="1"/>
	        <hz:map name="testMap"
	           backup-count="2"
	           max-size="0"
	           eviction-percentage="30"
	           use-backup-data="true"
	           eviction-policy="NONE"
	           merge-policy="hz.ADD_NEW_ENTRY"/>
	        <hz:map name="simpleMap"
	           backup-count="3"
	           time-to-live-seconds="1"
	           max-size="10"
	           eviction-percentage="50"
	           eviction-policy="LRU"
	           merge-policy="hz.LATEST_UPDATE"/>
	    </hz:config>
    </hz:hazelcast>
    
</beans>